{"version":3,"file":"useKeyDown-5aaf69f9.js","sources":["../src/_shared/hooks/useKeyDown.ts"],"sourcesContent":["import * as React from 'react';\n\nexport const useIsomorphicEffect =\n  typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n\ntype KeyHandlers = Record<number, () => void>;\n\nexport function runKeyHandler(\n  event: KeyboardEvent | React.KeyboardEvent,\n  keyHandlers: KeyHandlers\n) {\n  const handler = keyHandlers[event.keyCode];\n  if (handler) {\n    handler();\n    // if event was handled prevent other side effects (e.g. page scroll)\n    event.preventDefault();\n  }\n}\n\nexport function useKeyDownHandler(active: boolean, keyHandlers: KeyHandlers) {\n  const keyHandlersRef = React.useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n\n  return React.useCallback(\n    (event: React.KeyboardEvent) => {\n      if (active) {\n        runKeyHandler(event, keyHandlersRef.current);\n      }\n    },\n    [active]\n  );\n}\n\nexport function useGlobalKeyDown(active: boolean, keyHandlers: KeyHandlers) {\n  const keyHandlersRef = React.useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n\n  useIsomorphicEffect(() => {\n    if (active) {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        runKeyHandler(event, keyHandlersRef.current);\n      };\n      window.addEventListener('keydown', handleKeyDown);\n      return () => {\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n    }\n\n    return undefined;\n  }, [active]);\n}\n\nexport const keycode = {\n  ArrowUp: 38,\n  ArrowDown: 40,\n  ArrowLeft: 37,\n  ArrowRight: 39,\n  Enter: 13,\n  Home: 36,\n  End: 35,\n  PageUp: 33,\n  PageDown: 34,\n  Esc: 27,\n};\n"],"names":["useIsomorphicEffect","window","React","runKeyHandler","event","keyHandlers","handler","keyCode","preventDefault","useGlobalKeyDown","active","keyHandlersRef","current","handleKeyDown","addEventListener","removeEventListener","undefined","keycode","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Home","End","PageUp","PageDown","Esc"],"mappings":";;IAEaA,mBAAmB,GAC9B,OAAOC,MAAP,KAAkB,WAAlB,GAAgCC,SAAhC,GAAkDA;AAI7C,SAASC,aAAT,CACLC,KADK,EAELC,WAFK,EAGL;AACA,MAAMC,OAAO,GAAGD,WAAW,CAACD,KAAK,CAACG,OAAP,CAA3B;;AACA,MAAID,OAAJ,EAAa;AACXA,IAAAA,OAAO,GADI;;AAGXF,IAAAA,KAAK,CAACI,cAAN;AACD;AACF;AAgBM,SAASC,gBAAT,CAA0BC,MAA1B,EAA2CL,WAA3C,EAAqE;AAC1E,MAAMM,cAAc,GAAGT,MAAA,CAAaG,WAAb,CAAvB;AACAM,EAAAA,cAAc,CAACC,OAAf,GAAyBP,WAAzB;AAEAL,EAAAA,mBAAmB,CAAC,YAAM;AACxB,QAAIU,MAAJ,EAAY;AACV,UAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACT,KAAD,EAA0B;AAC9CD,QAAAA,aAAa,CAACC,KAAD,EAAQO,cAAc,CAACC,OAAvB,CAAb;AACD,OAFD;;AAGAX,MAAAA,MAAM,CAACa,gBAAP,CAAwB,SAAxB,EAAmCD,aAAnC;AACA,aAAO,YAAM;AACXZ,QAAAA,MAAM,CAACc,mBAAP,CAA2B,SAA3B,EAAsCF,aAAtC;AACD,OAFD;AAGD;;AAED,WAAOG,SAAP;AACD,GAZkB,EAYhB,CAACN,MAAD,CAZgB,CAAnB;AAaD;IAEYO,OAAO,GAAG;AACrBC,EAAAA,OAAO,EAAE,EADY;AAErBC,EAAAA,SAAS,EAAE,EAFU;AAGrBC,EAAAA,SAAS,EAAE,EAHU;AAIrBC,EAAAA,UAAU,EAAE,EAJS;AAKrBC,EAAAA,KAAK,EAAE,EALc;AAMrBC,EAAAA,IAAI,EAAE,EANe;AAOrBC,EAAAA,GAAG,EAAE,EAPgB;AAQrBC,EAAAA,MAAM,EAAE,EARa;AASrBC,EAAAA,QAAQ,EAAE,EATW;AAUrBC,EAAAA,GAAG,EAAE;AAVgB;;;;"}