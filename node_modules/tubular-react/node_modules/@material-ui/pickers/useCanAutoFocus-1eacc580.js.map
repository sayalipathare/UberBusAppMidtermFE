{"version":3,"file":"useCanAutoFocus-1eacc580.js","sources":["../src/_helpers/utils.ts","../src/_shared/hooks/useCanAutoFocus.tsx"],"sourcesContent":["import * as React from 'react';\n\n/* Use it instead of .includes method for IE support */\nexport function arrayIncludes<T>(array: T[] | readonly T[], itemOrItems: T | T[]) {\n  if (Array.isArray(itemOrItems)) {\n    return itemOrItems.every((item) => array.indexOf(item) !== -1);\n  }\n\n  return array.indexOf(itemOrItems) !== -1;\n}\n\nexport const onSpaceOrEnter = (\n  innerFn: () => void,\n  onFocus?: (event: React.KeyboardEvent<any>) => void\n) => (event: React.KeyboardEvent) => {\n  if (event.key === 'Enter' || event.key === ' ') {\n    innerFn();\n\n    // prevent any side effects\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  if (onFocus) {\n    onFocus(event);\n  }\n};\n\n/* Quick untyped helper to improve function composition readability */\nexport const pipe = (...fns: ((...args: any[]) => any)[]) =>\n  fns.reduceRight(\n    (prevFn, nextFn) => (...args) => nextFn(prevFn(...args)),\n    (value) => value\n  );\n\nexport const executeInTheNextEventLoopTick = (fn: () => void) => {\n  setTimeout(fn, 0);\n};\n\nexport function createDelegatedEventHandler<TEvent>(\n  fn: (event: TEvent) => void,\n  onEvent?: (event: TEvent) => void\n) {\n  return (event: TEvent) => {\n    fn(event);\n\n    if (onEvent) {\n      onEvent(event);\n    }\n  };\n}\n\nexport function mergeRefs<T>(refs: (React.Ref<T | null> | undefined)[]) {\n  return (value: T) => {\n    refs.forEach((ref) => {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (typeof ref === 'object' && ref != null) {\n        // @ts-ignore .current is not a readonly, hold on ts\n        ref.current = value;\n      }\n    });\n  };\n}\n","import * as React from 'react';\n\nexport const CanAutoFocusContext = React.createContext(true);\n\nexport const useCanAutoFocus = () => React.useContext(CanAutoFocusContext);\n\nexport function useAutoFocusControl(open: boolean) {\n  const [canAutoFocus, setCanAutoFocus] = React.useState(false);\n\n  React.useEffect(() => {\n    if (!open) {\n      setCanAutoFocus(false);\n    }\n  }, [open]);\n\n  return {\n    canAutoFocus,\n    onOpen: React.useCallback(() => setCanAutoFocus(true), []),\n  };\n}\n"],"names":["arrayIncludes","array","itemOrItems","Array","isArray","every","item","indexOf","onSpaceOrEnter","innerFn","onFocus","event","key","preventDefault","stopPropagation","pipe","fns","reduceRight","prevFn","nextFn","value","executeInTheNextEventLoopTick","fn","setTimeout","createDelegatedEventHandler","onEvent","mergeRefs","refs","forEach","ref","current","CanAutoFocusContext","React","useCanAutoFocus","useAutoFocusControl","open","canAutoFocus","setCanAutoFocus","onOpen"],"mappings":";;;;AAEA;AACO,SAASA,aAAT,CAA0BC,KAA1B,EAAqDC,WAArD,EAA2E;AAChF,MAAIC,KAAK,CAACC,OAAN,CAAcF,WAAd,CAAJ,EAAgC;AAC9B,WAAOA,WAAW,CAACG,KAAZ,CAAkB,UAACC,IAAD;AAAA,aAAUL,KAAK,CAACM,OAAN,CAAcD,IAAd,MAAwB,CAAC,CAAnC;AAAA,KAAlB,CAAP;AACD;;AAED,SAAOL,KAAK,CAACM,OAAN,CAAcL,WAAd,MAA+B,CAAC,CAAvC;AACD;IAEYM,cAAc,GAAG,SAAjBA,cAAiB,CAC5BC,OAD4B,EAE5BC,OAF4B;AAAA,SAGzB,UAACC,KAAD,EAAgC;AACnC,QAAIA,KAAK,CAACC,GAAN,KAAc,OAAd,IAAyBD,KAAK,CAACC,GAAN,KAAc,GAA3C,EAAgD;AAC9CH,MAAAA,OAAO,GADuC;;AAI9CE,MAAAA,KAAK,CAACE,cAAN;AACAF,MAAAA,KAAK,CAACG,eAAN;AACD;;AAED,QAAIJ,OAAJ,EAAa;AACXA,MAAAA,OAAO,CAACC,KAAD,CAAP;AACD;AACF,GAf6B;AAAA;AAiB9B;;IACaI,IAAI,GAAG,SAAPA,IAAO;AAAA,oCAAIC,GAAJ;AAAIA,IAAAA,GAAJ;AAAA;;AAAA,SAClBA,GAAG,CAACC,WAAJ,CACE,UAACC,MAAD,EAASC,MAAT;AAAA,WAAoB;AAAA,aAAaA,MAAM,CAACD,MAAM,MAAN,mBAAD,CAAnB;AAAA,KAApB;AAAA,GADF,EAEE,UAACE,KAAD;AAAA,WAAWA,KAAX;AAAA,GAFF,CADkB;AAAA;IAMPC,6BAA6B,GAAG,SAAhCA,6BAAgC,CAACC,EAAD,EAAoB;AAC/DC,EAAAA,UAAU,CAACD,EAAD,EAAK,CAAL,CAAV;AACD;AAEM,SAASE,2BAAT,CACLF,EADK,EAELG,OAFK,EAGL;AACA,SAAO,UAACd,KAAD,EAAmB;AACxBW,IAAAA,EAAE,CAACX,KAAD,CAAF;;AAEA,QAAIc,OAAJ,EAAa;AACXA,MAAAA,OAAO,CAACd,KAAD,CAAP;AACD;AACF,GAND;AAOD;AAEM,SAASe,SAAT,CAAsBC,IAAtB,EAAiE;AACtE,SAAO,UAACP,KAAD,EAAc;AACnBO,IAAAA,IAAI,CAACC,OAAL,CAAa,UAACC,GAAD,EAAS;AACpB,UAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;AAC7BA,QAAAA,GAAG,CAACT,KAAD,CAAH;AACD,OAFD,MAEO,IAAI,QAAOS,GAAP,MAAe,QAAf,IAA2BA,GAAG,IAAI,IAAtC,EAA4C;AACjD;AACAA,QAAAA,GAAG,CAACC,OAAJ,GAAcV,KAAd;AACD;AACF,KAPD;AAQD,GATD;AAUD;;IC7DYW,mBAAmB,GAAGC,aAAA,CAAoB,IAApB;IAEtBC,eAAe,GAAG,SAAlBA,eAAkB;AAAA,SAAMD,UAAA,CAAiBD,mBAAjB,CAAN;AAAA;AAExB,SAASG,mBAAT,CAA6BC,IAA7B,EAA4C;AAAA,wBACTH,QAAA,CAAe,KAAf,CADS;AAAA;AAAA,MAC1CI,YAD0C;AAAA,MAC5BC,eAD4B;;AAGjDL,EAAAA,SAAA,CAAgB,YAAM;AACpB,QAAI,CAACG,IAAL,EAAW;AACTE,MAAAA,eAAe,CAAC,KAAD,CAAf;AACD;AACF,GAJD,EAIG,CAACF,IAAD,CAJH;AAMA,SAAO;AACLC,IAAAA,YAAY,EAAZA,YADK;AAELE,IAAAA,MAAM,EAAEN,WAAA,CAAkB;AAAA,aAAMK,eAAe,CAAC,IAAD,CAArB;AAAA,KAAlB,EAA+C,EAA/C;AAFH,GAAP;AAID;;;;"}