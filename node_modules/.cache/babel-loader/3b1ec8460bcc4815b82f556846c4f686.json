{"ast":null,"code":"import _readOnlyError from\"/Users/sayalipathare/Documents/DevOps/Midterm/UberBus/Uberfe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/readOnlyError\";var localStorageAuthKey='fwo:auth';export function saveAuthorisation(user){if(typeof Storage!=='undefined'){try{user.isAuthorised=true;localStorage.setItem(localStorageAuthKey,JSON.stringify(user));}catch(ex){console.log(ex);}}else{// No web storage Support.\n}}export function logout(){if(typeof Storage!=='undefined'){try{var auth=JSON.parse(localStorage.getItem(localStorageAuthKey));auth.isAuthorised=false;auth.displayName='';localStorage.setItem(localStorageAuthKey,JSON.stringify(auth));}catch(ex){console.log(ex);}}else{// No web storage Support.\n}}export function getAuth(){try{if(typeof Storage!=='undefined'){var auth=JSON.parse(localStorage.getItem(localStorageAuthKey));if(auth===null){auth=(_readOnlyError(\"auth\"),{});auth.isAuthorised=false;}return auth;}else{return false;}}catch(ex){return false;}}export function isAuthorised(){try{if(typeof Storage!=='undefined'){var auth=JSON.parse(localStorage.getItem(localStorageAuthKey));return auth.isAuthorised||false;}else{return false;}}catch(ex){return false;}}","map":{"version":3,"sources":["/Users/sayalipathare/Documents/DevOps/Midterm/UberBus/Uberfe/src/utils/auth.js"],"names":["localStorageAuthKey","saveAuthorisation","user","Storage","isAuthorised","localStorage","setItem","JSON","stringify","ex","console","log","logout","auth","parse","getItem","displayName","getAuth"],"mappings":"mLAAA,GAAMA,CAAAA,mBAAmB,CAAG,UAA5B,CACA,MAAO,SAASC,CAAAA,iBAAT,CAA2BC,IAA3B,CAAiC,CACpC,GAAI,MAAOC,CAAAA,OAAP,GAAmB,WAAvB,CAAoC,CAChC,GAAI,CACAD,IAAI,CAACE,YAAL,CAAoB,IAApB,CACAC,YAAY,CAACC,OAAb,CAAqBN,mBAArB,CAA0CO,IAAI,CAACC,SAAL,CAAeN,IAAf,CAA1C,EACH,CAAC,MAAOO,EAAP,CAAW,CACTC,OAAO,CAACC,GAAR,CAAYF,EAAZ,EACH,CACJ,CAPD,IAOO,CACH;AACH,CACJ,CAED,MAAO,SAASG,CAAAA,MAAT,EAAkB,CACrB,GAAI,MAAOT,CAAAA,OAAP,GAAmB,WAAvB,CAAoC,CAChC,GAAI,CACA,GAAMU,CAAAA,IAAI,CAAGN,IAAI,CAACO,KAAL,CAAWT,YAAY,CAACU,OAAb,CAAqBf,mBAArB,CAAX,CAAb,CACAa,IAAI,CAACT,YAAL,CAAoB,KAApB,CACAS,IAAI,CAACG,WAAL,CAAmB,EAAnB,CACAX,YAAY,CAACC,OAAb,CAAqBN,mBAArB,CAA0CO,IAAI,CAACC,SAAL,CAAeK,IAAf,CAA1C,EACH,CAAC,MAAOJ,EAAP,CAAW,CACTC,OAAO,CAACC,GAAR,CAAYF,EAAZ,EACH,CACJ,CATD,IASO,CACH;AACH,CACJ,CAED,MAAO,SAASQ,CAAAA,OAAT,EAAmB,CACtB,GAAI,CACA,GAAI,MAAOd,CAAAA,OAAP,GAAmB,WAAvB,CAAoC,CAChC,GAAMU,CAAAA,IAAI,CAAGN,IAAI,CAACO,KAAL,CAAWT,YAAY,CAACU,OAAb,CAAqBf,mBAArB,CAAX,CAAb,CACA,GAAIa,IAAI,GAAK,IAAb,CAAmB,CAAEA,IAAI,yBAAG,EAAH,CAAJ,CAAWA,IAAI,CAACT,YAAL,CAAoB,KAApB,CAA2B,CAC3D,MAAOS,CAAAA,IAAP,CACH,CAJD,IAIO,CACH,MAAO,MAAP,CACH,CACJ,CAAC,MAAOJ,EAAP,CAAW,CACT,MAAO,MAAP,CACH,CACJ,CAED,MAAO,SAASL,CAAAA,YAAT,EAAwB,CAC3B,GAAI,CACA,GAAI,MAAOD,CAAAA,OAAP,GAAmB,WAAvB,CAAoC,CAChC,GAAMU,CAAAA,IAAI,CAAGN,IAAI,CAACO,KAAL,CAAWT,YAAY,CAACU,OAAb,CAAqBf,mBAArB,CAAX,CAAb,CACA,MAAOa,CAAAA,IAAI,CAACT,YAAL,EAAqB,KAA5B,CACH,CAHD,IAGO,CACH,MAAO,MAAP,CACH,CACJ,CAAC,MAAOK,EAAP,CAAW,CACT,MAAO,MAAP,CACH,CACJ","sourcesContent":["const localStorageAuthKey = 'fwo:auth'\nexport function saveAuthorisation(user) {\n    if (typeof Storage !== 'undefined') {\n        try {\n            user.isAuthorised = true;\n            localStorage.setItem(localStorageAuthKey, JSON.stringify(user))\n        } catch (ex) {\n            console.log(ex)\n        }\n    } else {\n        // No web storage Support.\n    }\n}\n\nexport function logout() {\n    if (typeof Storage !== 'undefined') {\n        try {\n            const auth = JSON.parse(localStorage.getItem(localStorageAuthKey))\n            auth.isAuthorised = false;\n            auth.displayName = '';\n            localStorage.setItem(localStorageAuthKey, JSON.stringify(auth))\n        } catch (ex) {\n            console.log(ex)\n        }\n    } else {\n        // No web storage Support.\n    }\n}\n\nexport function getAuth() {\n    try {\n        if (typeof Storage !== 'undefined') {\n            const auth = JSON.parse(localStorage.getItem(localStorageAuthKey))\n            if (auth === null) { auth = {}; auth.isAuthorised = false }\n            return auth;\n        } else {\n            return false\n        }\n    } catch (ex) {\n        return false\n    }\n}\n\nexport function isAuthorised() {\n    try {\n        if (typeof Storage !== 'undefined') {\n            const auth = JSON.parse(localStorage.getItem(localStorageAuthKey))\n            return auth.isAuthorised || false;\n        } else {\n            return false\n        }\n    } catch (ex) {\n        return false\n    }\n}\n"]},"metadata":{},"sourceType":"module"}