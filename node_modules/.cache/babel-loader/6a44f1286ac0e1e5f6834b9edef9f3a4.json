{"ast":null,"code":"const localStorageAuthKey = 'fwo:auth';\nexport function saveAuthorisation(user) {\n  if (typeof Storage !== 'undefined') {\n    try {\n      user.isAuthorised = true;\n      localStorage.setItem(localStorageAuthKey, JSON.stringify(user));\n    } catch (ex) {\n      console.log(ex);\n    }\n  } else {// No web storage Support.\n  }\n}\nexport function logout() {\n  if (typeof Storage !== 'undefined') {\n    try {\n      const auth = JSON.parse(localStorage.getItem(localStorageAuthKey));\n      auth.isAuthorised = false;\n      auth.displayName = '';\n      localStorage.setItem(localStorageAuthKey, JSON.stringify(auth));\n    } catch (ex) {\n      console.log(ex);\n    }\n  } else {// No web storage Support.\n  }\n}\nexport function getAuth() {\n  try {\n    if (typeof Storage !== 'undefined') {\n      const auth = JSON.parse(localStorage.getItem(localStorageAuthKey));\n\n      if (auth === null) {\n        auth = {};\n        auth.isAuthorised = false;\n      }\n\n      return auth;\n    } else {\n      return false;\n    }\n  } catch (ex) {\n    return false;\n  }\n}\nexport function isAuthorised() {\n  try {\n    if (typeof Storage !== 'undefined') {\n      const auth = JSON.parse(localStorage.getItem(localStorageAuthKey));\n      return auth.isAuthorised || false;\n    } else {\n      return false;\n    }\n  } catch (ex) {\n    return false;\n  }\n}","map":{"version":3,"sources":["/Users/sayalipathare/Documents/DevOps/Midterm/UberBus/Uberfe/src/utils/auth.js"],"names":["localStorageAuthKey","saveAuthorisation","user","Storage","isAuthorised","localStorage","setItem","JSON","stringify","ex","console","log","logout","auth","parse","getItem","displayName","getAuth"],"mappings":"AAAA,MAAMA,mBAAmB,GAAG,UAA5B;AACA,OAAO,SAASC,iBAAT,CAA2BC,IAA3B,EAAiC;AACpC,MAAI,OAAOC,OAAP,KAAmB,WAAvB,EAAoC;AAChC,QAAI;AACAD,MAAAA,IAAI,CAACE,YAAL,GAAoB,IAApB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqBN,mBAArB,EAA0CO,IAAI,CAACC,SAAL,CAAeN,IAAf,CAA1C;AACH,KAHD,CAGE,OAAOO,EAAP,EAAW;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACH;AACJ,GAPD,MAOO,CACH;AACH;AACJ;AAED,OAAO,SAASG,MAAT,GAAkB;AACrB,MAAI,OAAOT,OAAP,KAAmB,WAAvB,EAAoC;AAChC,QAAI;AACA,YAAMU,IAAI,GAAGN,IAAI,CAACO,KAAL,CAAWT,YAAY,CAACU,OAAb,CAAqBf,mBAArB,CAAX,CAAb;AACAa,MAAAA,IAAI,CAACT,YAAL,GAAoB,KAApB;AACAS,MAAAA,IAAI,CAACG,WAAL,GAAmB,EAAnB;AACAX,MAAAA,YAAY,CAACC,OAAb,CAAqBN,mBAArB,EAA0CO,IAAI,CAACC,SAAL,CAAeK,IAAf,CAA1C;AACH,KALD,CAKE,OAAOJ,EAAP,EAAW;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACH;AACJ,GATD,MASO,CACH;AACH;AACJ;AAED,OAAO,SAASQ,OAAT,GAAmB;AACtB,MAAI;AACA,QAAI,OAAOd,OAAP,KAAmB,WAAvB,EAAoC;AAChC,YAAMU,IAAI,GAAGN,IAAI,CAACO,KAAL,CAAWT,YAAY,CAACU,OAAb,CAAqBf,mBAArB,CAAX,CAAb;;AACA,UAAIa,IAAI,KAAK,IAAb,EAAmB;AAAEA,QAAAA,IAAI,GAAG,EAAP;AAAWA,QAAAA,IAAI,CAACT,YAAL,GAAoB,KAApB;AAA2B;;AAC3D,aAAOS,IAAP;AACH,KAJD,MAIO;AACH,aAAO,KAAP;AACH;AACJ,GARD,CAQE,OAAOJ,EAAP,EAAW;AACT,WAAO,KAAP;AACH;AACJ;AAED,OAAO,SAASL,YAAT,GAAwB;AAC3B,MAAI;AACA,QAAI,OAAOD,OAAP,KAAmB,WAAvB,EAAoC;AAChC,YAAMU,IAAI,GAAGN,IAAI,CAACO,KAAL,CAAWT,YAAY,CAACU,OAAb,CAAqBf,mBAArB,CAAX,CAAb;AACA,aAAOa,IAAI,CAACT,YAAL,IAAqB,KAA5B;AACH,KAHD,MAGO;AACH,aAAO,KAAP;AACH;AACJ,GAPD,CAOE,OAAOK,EAAP,EAAW;AACT,WAAO,KAAP;AACH;AACJ","sourcesContent":["const localStorageAuthKey = 'fwo:auth'\nexport function saveAuthorisation(user) {\n    if (typeof Storage !== 'undefined') {\n        try {\n            user.isAuthorised = true;\n            localStorage.setItem(localStorageAuthKey, JSON.stringify(user))\n        } catch (ex) {\n            console.log(ex)\n        }\n    } else {\n        // No web storage Support.\n    }\n}\n\nexport function logout() {\n    if (typeof Storage !== 'undefined') {\n        try {\n            const auth = JSON.parse(localStorage.getItem(localStorageAuthKey))\n            auth.isAuthorised = false;\n            auth.displayName = '';\n            localStorage.setItem(localStorageAuthKey, JSON.stringify(auth))\n        } catch (ex) {\n            console.log(ex)\n        }\n    } else {\n        // No web storage Support.\n    }\n}\n\nexport function getAuth() {\n    try {\n        if (typeof Storage !== 'undefined') {\n            const auth = JSON.parse(localStorage.getItem(localStorageAuthKey))\n            if (auth === null) { auth = {}; auth.isAuthorised = false }\n            return auth;\n        } else {\n            return false\n        }\n    } catch (ex) {\n        return false\n    }\n}\n\nexport function isAuthorised() {\n    try {\n        if (typeof Storage !== 'undefined') {\n            const auth = JSON.parse(localStorage.getItem(localStorageAuthKey))\n            return auth.isAuthorised || false;\n        } else {\n            return false\n        }\n    } catch (ex) {\n        return false\n    }\n}\n"]},"metadata":{},"sourceType":"module"}